<button *ngIf="!simulation"
  [routerLink]="'simulate'"
  class="absolute border-2 border-white rounded-full text-white px-8 py-2 m-4 hover:border-indigo-400 hover:bg-indigo-400"
  [ngClass]="{ 'border-red-400 text-red-400': error && !simulation }">
  Simulate
</button>
<button *ngIf="simulation"
  routerLink=""
  class="absolute border-2 border-white rounded-full text-white px-8 py-2 m-4 hover:border-indigo-400 hover:bg-indigo-400">
  Invest
</button>
<div class="flex flex-col justify-center items-center h-screen pt-16 pb-20 bg-indigo-300">
  <h1 class="text-5xl font-bold text-white mb-16">Fuzzy Trader</h1>
  <div class="inline-flex flex-col justify-around items-center">
    <h2 class="text-indigo-100">How much do you wanna invest?</h2>
    <div class="inline-flex flex-row justify-around items-center my-6">
      <label class="text-indigo-100 font-bold w-1/4" for="amount">US$</label>
      <input class="bg-indigo-100 rounded-md w-2/4 p-2 text-lg border-2 hover:bg-gray-200 transition duration-200 visited:border-gray-400 border-gray-400 focus:border-blue-500" type="text" name="amount" [(ngModel)]="amount">
    </div>
    <small *ngIf="error" class="mb-4 text-red-400">{{ message$ | async }}</small>
    <button class="rounded-md bg-indigo-500 py-2 px-8 text-indigo-100 border-white border hover:bg-indigo-400 transition duration-200" (click)="trade()">
      <span *ngIf="!(loading$ | async )">Suggest</span>
      <span *ngIf="(loading$ | async )" class="spinner"></span>
    </button>
  </div>
  <h2 class="text-5xl font-bold text-white my-4">Choose Investment</h2>
  <div class="inline-flex flex-row justify-around items-center h-full rounded-lg">
    <div *ngIf="conservative$ | async" class="cursor-pointer w-56 h-64 bg-indigo-100 rounded-lg mx-8 hover:bg-gray-200 border-2 hover:border-indigo-500 transition duration-200 inline-flex flex-col justify-around items-center">
      <div class="inline-flex flex-row justify-around items-center w-full">
        <h3 class="text-lg text-indigo-300 font-bold">Conservative</h3>
        <h3 *ngIf="(conservative$ | async).symbol" class="text-3xl text-indigo-600 font-bold">{{ (conservative$ | async).symbol }}</h3>
      </div>
      <div class="inline-flex flex-col justify-center items-center" *ngIf="(conservative$ | async).buyingPrice">
        <h2 class="text-xl">Buying Price</h2>
        <h2 class="text-3xl text-indigo-600">{{ ((conservative$ | async).buyingPrice) | currency: 'R$' }}</h2>
      </div>
      <div class="inline-flex flex-col justify-center items-center" *ngIf="(conservative$ | async).quantity">
        <h2 class="text-md">Quantity</h2>
        <h2 class="text-xl text-indigo-600 font-bold">{{ (conservative$ | async).quantity }}</h2>
      </div>
      <div class="text-4xl text-indigo-600 font-bold" *ngIf="(conservative$ | async).total"> {{ ((conservative$ | async).total) | currency: 'R$' }}</div>
    </div>

    <div *ngIf="moderate$ | async" class="cursor-pointer w-56 h-64 bg-indigo-100 rounded-lg mx-8 hover:bg-gray-200 border-2 hover:border-indigo-500 transition duration-200 inline-flex flex-col justify-around items-center">
      <div class="inline-flex flex-row justify-around items-center w-full">
        <h3 class="text-lg text-indigo-300 font-bold">Moderate</h3>
        <h3 *ngIf="(moderate$ | async).symbol" class="text-3xl text-indigo-600 font-bold">{{ (moderate$ | async).symbol }}</h3>
      </div>
      <div class="inline-flex flex-col justify-center items-center" *ngIf="(moderate$ | async).buyingPrice">
        <h2 class="text-xl">Buying Price</h2>
        <h2 class="text-3xl text-indigo-600">{{ ((moderate$ | async).buyingPrice) | currency: 'R$' }}</h2>
      </div>
      <div class="inline-flex flex-col justify-center items-center" *ngIf="(moderate$ | async).quantity">
        <h2 class="text-md">Quantity</h2>
        <h2 class="text-xl text-indigo-600 font-bold">{{ (moderate$ | async).quantity }}</h2>
      </div>
      <div class="text-4xl text-indigo-600 font-bold" *ngIf="(moderate$ | async).total"> {{ ((moderate$ | async).total) | currency: 'R$' }}</div>
    </div>

    <div *ngIf="aggressive$ | async" class="cursor-pointer w-56 h-64 bg-indigo-100 rounded-lg mx-8 hover:bg-gray-200 border-2 hover:border-indigo-500 transition duration-200 inline-flex flex-col justify-around items-center">
      <div class="inline-flex flex-row justify-around items-center w-full">
        <h3 class="text-lg text-indigo-300 font-bold">Aggressive</h3>
        <h3 *ngIf="(aggressive$ | async).symbol" class="text-3xl text-indigo-600 font-bold">{{ (aggressive$ | async).symbol }}</h3>
      </div>
      <div class="inline-flex flex-col justify-center items-center" *ngIf="(aggressive$ | async).buyingPrice">
        <h2 class="text-xl">Buying Price</h2>
        <h2 class="text-3xl text-indigo-600">{{ ((aggressive$ | async).buyingPrice) | currency: 'R$' }}</h2>
      </div>
      <div class="inline-flex flex-col justify-center items-center" *ngIf="(aggressive$ | async).quantity">
        <h2 class="text-md">Quantity</h2>
        <h2 class="text-xl text-indigo-600 font-bold">{{ (aggressive$ | async).quantity }}</h2>
      </div>
      <div class="text-4xl text-indigo-600 font-bold" *ngIf="(aggressive$ | async).total"> {{ ((aggressive$ | async).total) | currency: 'R$' }}</div>
    </div>
  </div>
</div>
